import{c as g,r as _,j as e,F as N,H as v}from"./app-gBwAGQZm.js";import{H as C}from"./heading-DNaXdBm-.js";import{I as t}from"./input-error-BjgQo624.js";import{B as F}from"./app-logo-icon-BFVMjnla.js";import{C as S,c as k,a as H,b as E,d as I}from"./card-DMJdQ0qf.js";import{I as u}from"./input-z6iHYEox.js";import{L as a}from"./label-NO5_o_hj.js";import{A as V}from"./app-layout-C_A7HpHZ.js";import{a as $,c as L}from"./index-BG0h05U8.js";/* empty css            */import"./index-B0y3W_90.js";import"./index-C2sqra8J.js";import"./index-BDqSilVs.js";const R=[{title:"セッション作成",href:L().url}];function W(r){const s=g.c(8),{friends:x}=r,[i,h]=_.useState(4);let c;s[0]===Symbol.for("react.memo_cache_sentinel")?(c=[1,2,3,4],s[0]=c):c=s[0];const f=c;let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsx(v,{title:"セッション作成"}),s[1]=n):n=s[1];let m;s[2]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsx(C,{title:"セッションを作成",description:"参加メンバーとルールを設定して半荘の記録を始めましょう"}),s[2]=m):m=s[2];let d;s[3]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsxs(H,{children:[e.jsx(E,{children:"基本情報"}),e.jsx(I,{children:"名前や参加人数、ルールを設定してください。"})]}),s[3]=d):d=s[3];let o;s[4]===Symbol.for("react.memo_cache_sentinel")?(o=$.form(),s[4]=o):o=s[4];let p;return s[5]!==x||s[6]!==i?(p=e.jsxs(V,{breadcrumbs:R,children:[n,e.jsxs("div",{className:"mx-auto max-w-4xl space-y-8",children:[m,e.jsxs(S,{children:[d,e.jsx(k,{children:e.jsx(N,{...o,className:"space-y-8",children:b=>{const{processing:y,errors:l}=b;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"name",children:"セッション名（任意）"}),e.jsx(u,{id:"name",name:"name",placeholder:"例: 2/12 夜会",autoComplete:"off"}),e.jsx(t,{message:l.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"player_count",children:"参加人数"}),e.jsxs("select",{id:"player_count",name:"player_count",defaultValue:i,onChange:j=>h(Number(j.target.value)),className:"rounded-md border border-input bg-transparent px-3 py-2 text-sm",children:[e.jsx("option",{value:4,children:"4人打ち"}),e.jsx("option",{value:3,children:"3人打ち"})]}),e.jsx(t,{message:l.player_count})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(a,{children:["招待するフレンド（",i-1,"人選択）"]}),e.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:x.map(A)}),e.jsx(t,{message:l.member_ids})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"rules_base",children:"基準点 (base)"}),e.jsx(u,{id:"rules_base",name:"rules[base]",type:"number",step:"100",defaultValue:25e3}),e.jsx(t,{message:l["rules.base"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"rules_k",children:"係数 (k)"}),e.jsx(u,{id:"rules_k",name:"rules[k]",type:"number",step:"0.01",defaultValue:.1}),e.jsx(t,{message:l["rules.k"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"順位ボーナス (rank bonus)"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:f.filter(j=>j<=i).map(w)}),e.jsx(t,{message:l["rules.rank_bonus"]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(F,{type:"submit",disabled:y,children:"セッションを作成"})})]})}})})]})]})]}),s[5]=x,s[6]=i,s[7]=p):p=s[7],p}function w(r){return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(a,{htmlFor:`rank_bonus_${r}`,children:[r,"位"]}),e.jsx(u,{id:`rank_bonus_${r}`,name:`rules[rank_bonus][${r}]`,type:"number",step:"100",defaultValue:r===4?-3e3:r===3?0:r===2?1e3:2e3})]},r)}function A(r){return e.jsxs("label",{className:"flex items-center gap-3 rounded-lg border px-3 py-2",children:[e.jsx("input",{type:"checkbox",name:"member_ids[]",value:r.id,className:"size-4 rounded border"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:r.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r.friend_code})]})]},r.id)}export{W as default};
