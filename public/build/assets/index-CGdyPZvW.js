import{c as Qe,j as t,H as Ue}from"./app-DhMxmlnQ.js";import{H as Ve}from"./heading-hZ5llr03.js";import{C as Re,c as Ae,a as De,b as Le,d as Ie}from"./card-DxlLJTeC.js";import{A as Xe}from"./app-layout-CNfg1OHM.js";import{s as Ye}from"./index-DtzRoMoA.js";/* empty css            */import"./app-logo-icon-X3GIZxfD.js";import"./index-CLgheG93.js";import"./index-B-t1sK0C.js";const et=[{title:"Status",href:Ye().url}],We=new Intl.NumberFormat(void 0,{maximumFractionDigits:1,minimumFractionDigits:0}),tt=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),j=s=>We.format(Number(s??0)),je=[1,2,3,4],Ee=["#fbbf24","#38bdf8","#34d399","#c084fc"],b=64,st=16,ne=b*2+st,y=ne/2,se=260,le=640,a=32,lt=["#fef3c7","#e0f2fe","#d1fae5","#f3e8ff"],Ge=s=>Number.isNaN(s)?4:Math.min(Math.max(s,1),4),nt=s=>{if(s.length===0)return[];if(s.length===1){const e=a+(le-a*2)/2,n=a+(Ge(s[0].rank)-1)/3*(se-a*2);return[{...s[0],x:e,y:n}]}return s.map((e,n)=>{const i=a+n/(s.length-1)*(le-a*2),d=a+(Ge(e.rank)-1)/3*(se-a*2);return{...e,x:i,y:d}})};function St(s){const e=Qe.c(154),{summary:n,recentGames:i,rankTrend:d,detailedStats:l}=s;let N,v,m,w,$,x,S,f,r,p,u,c;if(e[0]!==l.average_session_points||e[1]!==l.best_game_points||e[2]!==l.best_session_points||e[3]!==l.flying_rate||e[4]!==l.rank_rates||e[5]!==l.worst_game_points||e[6]!==l.worst_session_points||e[7]!==d||e[8]!==n.total_games||e[9]!==n.total_points||e[10]!==n.total_sessions){const be=nt(d),ze=be.map(ht).join(" "),Ze=je.map(ut);let F,H,R,A,D,L,I,W,h,z,_,g;if(e[23]!==l.average_session_points||e[24]!==l.best_game_points||e[25]!==l.best_session_points||e[26]!==l.flying_rate||e[27]!==l.rank_rates||e[28]!==l.worst_game_points||e[29]!==l.worst_session_points||e[30]!==n.total_games||e[31]!==n.total_points||e[32]!==n.total_sessions){let re;e[50]!==l.rank_rates?(re=(o,He)=>({title:`${o}位率`,rate:l.rank_rates[o]?.rate??0,count:l.rank_rates[o]?.count??0,color:Ee[He%Ee.length]}),e[50]=l.rank_rates,e[51]=re):re=e[51];const ye=je.map(re),qe=ye.reduce(pt,0);let Ne=-Math.PI/2;const Je=ye.map(o=>{const He=o.rate*Math.PI*2,Oe=Ne,Be=Ne+He;return Ne=Be,{...o,startAngle:Oe,endAngle:Be}}),Ke=ft;let ce;e[52]!==n.total_points?(ce=j(n.total_points),e[52]=n.total_points,e[53]=ce):ce=e[53];const ve=`${ce} pt`;let K;e[54]!==ve?(K={label:"累計ポイント",value:ve},e[54]=ve,e[55]=K):K=e[55];const we=`${n.total_games} 戦`;let O;e[56]!==we?(O={label:"総対局数",value:we},e[56]=we,e[57]=O):O=e[57];const $e=`${n.total_sessions} 件`;let Q;e[58]!==$e?(Q={label:"参加セッション",value:$e},e[58]=$e,e[59]=Q):Q=e[59];let de;e[60]!==K||e[61]!==O||e[62]!==Q?(de=[K,O,Q],e[60]=K,e[61]=O,e[62]=Q,e[63]=de):de=e[63];const Se=de;let me;e[64]!==l.best_game_points?(me=j(l.best_game_points),e[64]=l.best_game_points,e[65]=me):me=e[65];const ke=`${me} pt`;let U;e[66]!==ke?(U={label:"1局最高ポイント",value:ke},e[66]=ke,e[67]=U):U=e[67];let xe;e[68]!==l.worst_game_points?(xe=j(l.worst_game_points),e[68]=l.worst_game_points,e[69]=xe):xe=e[69];const Me=`${xe} pt`;let V;e[70]!==Me?(V={label:"1局最低ポイント",value:Me},e[70]=Me,e[71]=V):V=e[71];let fe;e[72]!==l.best_session_points?(fe=j(l.best_session_points),e[72]=l.best_session_points,e[73]=fe):fe=e[73];const Ce=`${fe} pt`;let X;e[74]!==Ce?(X={label:"1セッション最高ポイント",value:Ce},e[74]=Ce,e[75]=X):X=e[75];let pe;e[76]!==l.worst_session_points?(pe=j(l.worst_session_points),e[76]=l.worst_session_points,e[77]=pe):pe=e[77];const Pe=`${pe} pt`;let Y;e[78]!==Pe?(Y={label:"1セッション最低ポイント",value:Pe},e[78]=Pe,e[79]=Y):Y=e[79];let ue;e[80]!==l.average_session_points?(ue=j(l.average_session_points),e[80]=l.average_session_points,e[81]=ue):ue=e[81];const Te=`${ue} pt`;let ee;e[82]!==Te?(ee={label:"1セッション平均ポイント",value:Te},e[82]=Te,e[83]=ee):ee=e[83];let he;e[84]!==l.flying_rate?(he=We.format(l.flying_rate*100),e[84]=l.flying_rate,e[85]=he):he=e[85];const Fe=`${he} %`;let te;e[86]!==Fe?(te={label:"飛び率",value:Fe},e[86]=Fe,e[87]=te):te=e[87];let _e;e[88]!==U||e[89]!==V||e[90]!==X||e[91]!==Y||e[92]!==ee||e[93]!==te?(_e=[U,V,X,Y,ee,te],e[88]=U,e[89]=V,e[90]=X,e[91]=Y,e[92]=ee,e[93]=te,e[94]=_e):_e=e[94],R=_e,m=Xe,u=et,e[95]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(Ue,{title:"Status"}),e[95]=c):c=e[95],f="space-y-8",e[96]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(Ve,{title:"Status",description:"Review recent performance before your next session"}),e[96]=r):r=e[96],H=Re,e[97]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsxs(De,{children:[t.jsx(Le,{children:"累計スタッツ"}),t.jsx(Ie,{children:"サマリー・順位分布・詳細指標をまとめてひと目で確認できます。"})]}),e[97]=g):g=e[97],F=Ae,z="grid gap-4 lg:grid-cols-3";let ge;e[98]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"累計サマリー"}),e[98]=ge):ge=e[98],e[99]!==Se?(_=t.jsxs("section",{className:"space-y-3 rounded-lg border bg-muted/20 p-4",children:[ge,t.jsx("div",{className:"space-y-3",children:Se.map(xt)})]}),e[99]=Se,e[100]=_):_=e[100],W="space-y-3 rounded-lg border bg-muted/20 p-4",e[101]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"順位分布"}),e[101]=h):h=e[101],L="flex flex-col gap-4 sm:flex-row sm:items-center",I=t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("svg",{width:ne,height:ne,viewBox:`0 0 ${ne} ${ne}`,"aria-label":"順位分布の円グラフ",children:qe>0?Je.map(o=>o.rate>0?t.jsx("path",{d:Ke(o.startAngle,o.endAngle),fill:o.color},o.title):null):t.jsx("circle",{cx:y,cy:y,r:b,fill:"hsl(var(--muted))",opacity:.3})})}),A="flex-1 space-y-2",D=ye.map(mt),e[23]=l.average_session_points,e[24]=l.best_game_points,e[25]=l.best_session_points,e[26]=l.flying_rate,e[27]=l.rank_rates,e[28]=l.worst_game_points,e[29]=l.worst_session_points,e[30]=n.total_games,e[31]=n.total_points,e[32]=n.total_sessions,e[33]=m,e[34]=F,e[35]=H,e[36]=R,e[37]=A,e[38]=D,e[39]=L,e[40]=I,e[41]=W,e[42]=h,e[43]=z,e[44]=_,e[45]=g,e[46]=f,e[47]=r,e[48]=u,e[49]=c}else m=e[33],F=e[34],H=e[35],R=e[36],A=e[37],D=e[38],L=e[39],I=e[40],W=e[41],h=e[42],z=e[43],_=e[44],g=e[45],f=e[46],r=e[47],u=e[48],c=e[49];let B;e[102]!==A||e[103]!==D?(B=t.jsx("div",{className:A,children:D}),e[102]=A,e[103]=D,e[104]=B):B=e[104];let E;e[105]!==L||e[106]!==I||e[107]!==B?(E=t.jsxs("div",{className:L,children:[I,B]}),e[105]=L,e[106]=I,e[107]=B,e[108]=E):E=e[108];let G;e[109]!==W||e[110]!==h||e[111]!==E?(G=t.jsxs("section",{className:W,children:[h,E]}),e[109]=W,e[110]=h,e[111]=E,e[112]=G):G=e[112];let ie;e[113]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("p",{className:"text-sm font-semibold text-muted-foreground",children:"累計詳細戦績"}),e[113]=ie):ie=e[113];let Z;e[114]!==R?(Z=t.jsxs("section",{className:"space-y-3 rounded-lg border bg-muted/20 p-4",children:[ie,t.jsx("div",{className:"space-y-3",children:R.map(dt)})]}),e[114]=R,e[115]=Z):Z=e[115];let q;e[116]!==z||e[117]!==_||e[118]!==G||e[119]!==Z?(q=t.jsxs("div",{className:z,children:[_,G,Z]}),e[116]=z,e[117]=_,e[118]=G,e[119]=Z,e[120]=q):q=e[120];let J;e[121]!==F||e[122]!==q?(J=t.jsx(F,{children:q}),e[121]=F,e[122]=q,e[123]=J):J=e[123],e[124]!==H||e[125]!==g||e[126]!==J?(p=t.jsxs(H,{children:[g,J]}),e[124]=H,e[125]=g,e[126]=J,e[127]=p):p=e[127],S="grid gap-6 lg:grid-cols-2",v=Re,$="overflow-hidden",e[128]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsxs(De,{children:[t.jsx(Le,{children:"直近10戦の順位推移"}),t.jsx(Ie,{children:"順位が低いほどグラフは上に表示されます。"})]}),e[128]=x):x=e[128],N=Ae,w=d.length===0?t.jsx("p",{className:"text-sm text-muted-foreground",children:"戦績データがまだありません。"}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("svg",{viewBox:`0 0 ${le} ${se}`,className:"h-64 w-full",role:"img","aria-label":"直近10戦の順位推移",children:[t.jsx("desc",{children:"直近の順位推移を折れ線で表示します"}),je.map(ct),Ze.map(rt),ze?t.jsx("polyline",{points:ze,fill:"none",stroke:"hsl(var(--foreground))",strokeWidth:4,strokeLinejoin:"round",strokeLinecap:"round"}):null,be.map(it),t.jsx("g",{"aria-hidden":!0,children:be.map(ot)})]})}),e[0]=l.average_session_points,e[1]=l.best_game_points,e[2]=l.best_session_points,e[3]=l.flying_rate,e[4]=l.rank_rates,e[5]=l.worst_game_points,e[6]=l.worst_session_points,e[7]=d,e[8]=n.total_games,e[9]=n.total_points,e[10]=n.total_sessions,e[11]=N,e[12]=v,e[13]=m,e[14]=w,e[15]=$,e[16]=x,e[17]=S,e[18]=f,e[19]=r,e[20]=p,e[21]=u,e[22]=c}else N=e[11],v=e[12],m=e[13],w=e[14],$=e[15],x=e[16],S=e[17],f=e[18],r=e[19],p=e[20],u=e[21],c=e[22];let k;e[129]!==N||e[130]!==w?(k=t.jsx(N,{children:w}),e[129]=N,e[130]=w,e[131]=k):k=e[131];let M;e[132]!==v||e[133]!==k||e[134]!==$||e[135]!==x?(M=t.jsxs(v,{className:$,children:[x,k]}),e[132]=v,e[133]=k,e[134]=$,e[135]=x,e[136]=M):M=e[136];let C;e[137]!==M||e[138]!==S?(C=t.jsx("div",{className:S,children:M}),e[137]=M,e[138]=S,e[139]=C):C=e[139];let ae;e[140]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsxs(De,{children:[t.jsx(Le,{children:"直近10戦戦績"}),t.jsx(Ie,{children:"最新の対局結果を確認できます。"})]}),e[140]=ae):ae=e[140];let P;e[141]!==i?(P=t.jsxs(Re,{children:[ae,t.jsx(Ae,{children:i.length===0?t.jsx("p",{className:"text-sm text-muted-foreground",children:"まだ戦績がありません。"}):t.jsx("div",{className:"space-y-3",children:i.map(at)})})]}),e[141]=i,e[142]=P):P=e[142];let T;e[143]!==C||e[144]!==P||e[145]!==f||e[146]!==r||e[147]!==p?(T=t.jsxs("div",{className:f,children:[r,p,C,P]}),e[143]=C,e[144]=P,e[145]=f,e[146]=r,e[147]=p,e[148]=T):T=e[148];let oe;return e[149]!==m||e[150]!==T||e[151]!==u||e[152]!==c?(oe=t.jsxs(m,{breadcrumbs:u,children:[c,T]}),e[149]=m,e[150]=T,e[151]=u,e[152]=c,e[153]=oe):oe=e[153],oe}function at(s){return t.jsx("div",{className:"rounded-lg border px-4 py-3",children:t.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold",children:s.session?.name??"セッション"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s.played_at?tt.format(new Date(s.played_at)):"日時不明"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"ポイント"}),t.jsxs("p",{className:"text-lg font-semibold",children:[j(s.points)," pt"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"順位"}),t.jsxs("p",{className:"text-lg font-semibold",children:[s.rank,"位"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"最終スコア"}),t.jsx("p",{className:"text-lg font-semibold",children:j(s.final_score)})]})]})]})},s.id)}function ot(s,e){return t.jsx("text",{x:s.x,y:se-a/2,className:"fill-muted-foreground text-xs",textAnchor:"middle",children:e+1},`order-${e}`)}function it(s,e){return t.jsx("circle",{cx:s.x,cy:s.y,r:6,className:"fill-background stroke-primary",strokeWidth:3},`${s.label}-${e}`)}function rt(s){return t.jsxs("g",{children:[t.jsx("line",{x1:a,x2:le-a,y1:s.position,y2:s.position,className:"stroke-muted",strokeDasharray:"4 6",strokeWidth:.8}),t.jsx("text",{x:a-18,y:s.position+4,className:"fill-muted-foreground text-xs",children:s.label}),t.jsx("text",{x:le-a+10,y:s.position+4,className:"fill-muted-foreground text-xs",children:s.label})]},s.label)}function ct(s,e){const n=(se-a*2)/je.length,i=a+e*n;return t.jsx("rect",{x:a,y:i,width:le-a*2,height:n,fill:lt[e],opacity:.45},`band-${s}`)}function dt(s){return t.jsxs("div",{className:"flex items-baseline justify-between gap-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),t.jsx("p",{className:"text-xl font-semibold",children:s.value})]},s.label)}function mt(s){return t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"size-2.5 rounded-full",style:{backgroundColor:s.color}}),t.jsx("span",{className:"text-muted-foreground",children:s.title})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-semibold",children:[We.format(s.rate*100),"%"]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.count," 戦"]})]})]},s.title)}function xt(s){return t.jsxs("div",{className:"flex items-baseline justify-between gap-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),t.jsx("p",{className:"text-xl font-semibold",children:s.value})]},s.label)}function ft(s,e){const n={x:y+b*Math.cos(s),y:y+b*Math.sin(s)},i={x:y+b*Math.cos(e),y:y+b*Math.sin(e)},d=e-s<=Math.PI?0:1;return`M ${y} ${y} L ${n.x} ${n.y} A ${b} ${b} 0 ${d} 1 ${i.x} ${i.y} Z`}function pt(s,e){return s+e.rate}function ut(s){return{label:`${s}位`,position:a+(s-1)/3*(se-a*2)}}function ht(s){return`${s.x},${s.y}`}export{St as default};
